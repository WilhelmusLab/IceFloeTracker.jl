<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Tracking · IceFloeTracker.jl</title><meta name="title" content="Tracking · IceFloeTracker.jl"/><meta property="og:title" content="Tracking · IceFloeTracker.jl"/><meta property="twitter:title" content="Tracking · IceFloeTracker.jl"/><meta name="description" content="Documentation for IceFloeTracker.jl."/><meta property="og:description" content="Documentation for IceFloeTracker.jl."/><meta property="twitter:description" content="Documentation for IceFloeTracker.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="IceFloeTracker.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">IceFloeTracker.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">IceFloeTracker.jl</a></li><li><a class="tocitem" href="../preprocessing/">Preprocessing</a></li><li><a class="tocitem" href="../segmentation/">Segmentation</a></li><li class="is-active"><a class="tocitem" href>Tracking</a><ul class="internal"><li><a class="tocitem" href="#Preparing-data-for-tracking"><span>Preparing data for tracking</span></a></li><li><a class="tocitem" href="#Floe-Filter-Functions"><span>Floe Filter Functions</span></a></li><li><a class="tocitem" href="#Matching-Function"><span>Matching Function</span></a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials/lopez-acosta-2019-workflow/">Segmentation Algorithm Workflows</a></li><li><a class="tocitem" href="../tutorials/segmentation-tracking/">Ice Floe Segmentation and Tracking Algorithm</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Tracking</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Tracking</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/WilhelmusLab/IceFloeTracker.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/WilhelmusLab/IceFloeTracker.jl/blob/main/docs/prebuild/tracking.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Tracking"><a class="docs-heading-anchor" href="#Tracking">Tracking</a><a id="Tracking-1"></a><a class="docs-heading-anchor-permalink" href="#Tracking" title="Permalink"></a></h1><p>Floe tracking in Ice Floe Tracker is based on object shapes and locations. Given a series of segmented images, the goal is to identify shapes that persist across images, subject to constraints on object similarity and maximum displacements. The algorithm has three main components: (1) the main <code>floe_tracker</code> algorithm, which keeps track of the most recent floe in each trajectory (trajectory heads) and the set of candidate matches in the next image, (2) a &quot;floe filter&quot; function which identifies all the possible pairs between a trajectory head and floes in the candidate set, and (3) a &quot;floe matching&quot; algorithm which identifies a set of unique pairs. By designing and customizing the filter functions and matching functions, the <code>floe_tracker</code> function provides a flexible and powerful platform for developing floe tracking workflows.</p><h2 id="Preparing-data-for-tracking"><a class="docs-heading-anchor" href="#Preparing-data-for-tracking">Preparing data for tracking</a><a id="Preparing-data-for-tracking-1"></a><a class="docs-heading-anchor-permalink" href="#Preparing-data-for-tracking" title="Permalink"></a></h2><p>The <code>floe_tracker</code> takes three positional arguments: a list of DataFrames, a filter function, and a matching function, as well as optional keyword arguments to specify the minimum and maximum floe sizes (in pixels) and the maximum time step in between floe pairs. Assuming that a set of images <code>segmented_images</code> has already been produced, the <code>regionprops_table</code> function produces a DataFrame where each row corresponds to a floe, and each column is some measurement or attribute of the floe. DataFrames are highly flexible–entries in the dataframe are not limited to words and numbers, but can include vectors and matrices as well. At the very least, the property tables will need to include the floe ID, floe area and an associated observation time. Other columns and measures depend on what will be used in the filter function. The <code>regionprops_table</code> function defaults to calculating  area, convex area, centroid, perimeter, major and minor axis, and orientation. We can initialize the property tables using dot notation to broadcast to a list:</p><pre><code class="language-julia hljs">props = regionprops_table.(segmented_images)</code></pre><p>We include helper functions to add unique IDs to each row and to add image observation times. Assuming <code>passtimes</code> is a list of DateTimes of the same length as <code>segmented_images</code>, we run</p><pre><code class="language-julia hljs">add_uuids!.(props)
add_passtimes!.(props, passtimes)</code></pre><p>The default filter functions include calculations based on binary floe shapes (floe masks) and associated <span>$\psi$</span>-s curves. We include helper functions for these as well. For the floe masks, we also need a list with binary images associated with each segmented image.</p><pre><code class="language-julia hljs">add_floemasks!.(props, binary_images)
add_ψs!.(props)</code></pre><h2 id="Floe-Filter-Functions"><a class="docs-heading-anchor" href="#Floe-Filter-Functions">Floe Filter Functions</a><a id="Floe-Filter-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Floe-Filter-Functions" title="Permalink"></a></h2><p>Floe filter functions take two argmuments: a DataFrameRow corresponding to the floe to be matched, and a DataFrame with candidate pairs from the current time step. These functions should operate in-place and result in DataFrame subsetting operation. IceFloeTracker.jl includes four main <code>AbstractFloeFilterFunctions</code>.  These functions all follow the same procedure:</p><ol><li>Compute comparisons between the floe and each floe in the candidates DataFrame</li><li>Use an threshold test to evaluate the comparisons</li><li>Reduce the candidates dataframe to only those pairs that pass the threshold test</li></ol><p>Each of these functions can be called in series, as they only depend on the columns in the input property tables. The<code>ChainedFilterFunction</code>takes a list of filter functions and wraps them into a single function call. Using the struct/functor approach, we can initialize each function with parameters, then pass the function and settings into the <code>floe_tracker</code> function. As an example, let&#39;s define a filter function which compares the relative error in area against a step function. We initialize the step function first:</p><pre><code class="language-julia hljs">sw = StepwiseLinearThresholdFunction(changepoint_area=500, low_value=0.25, high_value=0.125)</code></pre><p>The function <code>sw</code> will return <code>true</code> if the relative error is less than 0.25 and the area is smaller than 500 pixels. If the area is larger, then a stricter threshold of 0.125 is applied. Next, we make a filter function</p><pre><code class="language-julia hljs">rel_err_ff = RelativeErrorThresholdFilter(variable=:area, threshold_function=sw)</code></pre><p>This function will add a column <code>:relative_error_area</code> to the filter function, which can be used in the Matching Function.</p><h2 id="Matching-Function"><a class="docs-heading-anchor" href="#Matching-Function">Matching Function</a><a id="Matching-Function-1"></a><a class="docs-heading-anchor-permalink" href="#Matching-Function" title="Permalink"></a></h2></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../segmentation/">« Segmentation</a><a class="docs-footer-nextpage" href="../tutorials/lopez-acosta-2019-workflow/">Segmentation Algorithm Workflows »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Friday 20 February 2026 19:15">Friday 20 February 2026</span>. Using Julia version 1.12.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
