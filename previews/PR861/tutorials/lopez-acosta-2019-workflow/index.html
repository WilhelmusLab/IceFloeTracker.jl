<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Segmentation Algorithm Workflows · IceFloeTracker.jl</title><meta name="title" content="Segmentation Algorithm Workflows · IceFloeTracker.jl"/><meta property="og:title" content="Segmentation Algorithm Workflows · IceFloeTracker.jl"/><meta property="twitter:title" content="Segmentation Algorithm Workflows · IceFloeTracker.jl"/><meta name="description" content="Documentation for IceFloeTracker.jl."/><meta property="og:description" content="Documentation for IceFloeTracker.jl."/><meta property="twitter:description" content="Documentation for IceFloeTracker.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="IceFloeTracker.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">IceFloeTracker.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">IceFloeTracker.jl</a></li><li><a class="tocitem" href="../../preprocessing/">Preprocessing</a></li><li><a class="tocitem" href="../../segmentation/">Segmentation</a></li><li><a class="tocitem" href="../../tracking/">Tracking</a></li><li><span class="tocitem">Tutorials</span><ul><li class="is-active"><a class="tocitem" href>Segmentation Algorithm Workflows</a><ul class="internal"><li><a class="tocitem" href="#Load-the-images"><span>Load the images</span></a></li><li><a class="tocitem" href="#Run-the-segmentation-algorithm"><span>Run the segmentation algorithm</span></a></li><li><a class="tocitem" href="#Run-the-segmentation-algorithm-with-tiling"><span>Run the segmentation algorithm with tiling</span></a></li></ul></li><li><a class="tocitem" href="../segmentation-tracking/">Ice Floe Segmentation and Tracking Algorithm</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>Segmentation Algorithm Workflows</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Segmentation Algorithm Workflows</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/WilhelmusLab/IceFloeTracker.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/WilhelmusLab/IceFloeTracker.jl/blob/main/docs/prebuild/tutorials/lopez-acosta-2019-workflow.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><p><a href="https://colab.research.google.com/github/WilhelmusLab/IceFloeTracker.jl/blob/refs/pull/861/merge/docs/src/tutorials/lopez-acosta-2019-workflow.ipynb"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open this notebook in Colab"/></a></p><h1 id="Segmentation-Algorithm-Workflows"><a class="docs-heading-anchor" href="#Segmentation-Algorithm-Workflows">Segmentation Algorithm Workflows</a><a id="Segmentation-Algorithm-Workflows-1"></a><a class="docs-heading-anchor-permalink" href="#Segmentation-Algorithm-Workflows" title="Permalink"></a></h1><p>This notebook demonstrates IceFloeTracker.jl&#39;s segmentation algorithms  with very basic examples of their use.</p><pre><code class="language- hljs">
# Setup environment
using Pkg
Pkg.add(;name=&quot;IceFloeTracker&quot;, rev=&quot;861/merge&quot;)
Pkg.add(&quot;Images&quot;)
</code></pre><pre><code class="language-julia hljs"># Load packages
using IceFloeTracker: LopezAcosta2019, LopezAcosta2019Tiling, Watkins2026Dataset, info, modis_truecolor, modis_landmask, modis_falsecolor, validated_binary_floes
using Images: erode, segment_mean, labels_map, SegmentedImage, RGB, mosaicview</code></pre><h2 id="Load-the-images"><a class="docs-heading-anchor" href="#Load-the-images">Load the images</a><a id="Load-the-images-1"></a><a class="docs-heading-anchor-permalink" href="#Load-the-images" title="Permalink"></a></h2><p>Load the dataset from <a href="https://github.com/danielmwatkins/ice_floe_validation_dataset">https://github.com/danielmwatkins/ice<em>floe</em>validation_dataset</a> using the <code>Watkins2026Dataset</code> data loader.</p><pre><code class="language-julia hljs">full_dataset = Watkins2026Dataset(; ref=&quot;v0.1&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Dataset(GitHubLoader(&quot;https://github.com/danielmwatkins/ice_floe_validation_dataset/&quot;, &quot;v0.1&quot;, &quot;/tmp/Watkins2026&quot;), <span class="sgr1">378×30 DataFrame</span>
<span class="sgr1"> Row </span>│<span class="sgr1">        case_number  region          start_date  center_lon  center_lat </span> ⋯
<span class="sgr1">     </span>│<span class="sgr90"> Int64  Int64        String          Dates.Date  Float64     Float64    </span> ⋯
─────┼──────────────────────────────────────────────────────────────────────────
   1 │     0            1  baffin_bay      2022-09-11    -91.5275     77.801   ⋯
   2 │     1            1  baffin_bay      2022-09-11    -91.5275     77.801
   3 │     2            2  baffin_bay      2015-03-12    -81.9643     76.0579
   4 │     3            2  baffin_bay      2015-03-12    -81.9643     76.0579
   5 │     4            3  baffin_bay      2012-04-19    -79.5793     75.6372  ⋯
   6 │     5            3  baffin_bay      2012-04-19    -79.5793     75.6372
   7 │     6            4  baffin_bay      2019-09-25    -76.8094     79.3029
   8 │     7            4  baffin_bay      2019-09-25    -76.8094     79.3029
  ⋮  │   ⋮         ⋮             ⋮             ⋮           ⋮           ⋮       ⋱
 372 │   371          186  sea_of_okhostk  2017-05-23    155.183      59.6011  ⋯
 373 │   372          187  sea_of_okhostk  2013-04-29    155.731      59.7278
 374 │   373          187  sea_of_okhostk  2013-04-29    155.731      59.7278
 375 │   374          188  sea_of_okhostk  2015-03-12    156.838      57.6608
 376 │   375          188  sea_of_okhostk  2015-03-12    156.838      57.6608  ⋯
 377 │   376          189  sea_of_okhostk  2012-04-26    163.086      61.4172
 378 │   377          189  sea_of_okhostk  2012-04-26    163.086      61.4172
<span class="sgr36">                                                 24 columns and 363 rows omitted</span>)</code></pre><p>The available data can be viewed:</p><pre><code class="language-julia hljs">first(info(full_dataset), 10)</code></pre><div><div style = "float: left;"><span>10×30 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "columnLabelRow"><th class = "stubheadLabel" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;"></th><th style = "text-align: left;">case_number</th><th style = "text-align: left;">region</th><th style = "text-align: left;">start_date</th><th style = "text-align: left;">center_lon</th><th style = "text-align: left;">center_lat</th><th style = "text-align: left;">center_x</th><th style = "text-align: left;">center_y</th><th style = "text-align: left;">month</th><th style = "text-align: left;">sea_ice_fraction</th><th style = "text-align: left;">mean_sea_ice_concentration</th><th style = "text-align: left;">init_case_number</th><th style = "text-align: left;">satellite</th><th style = "text-align: left;">visible_sea_ice</th><th style = "text-align: left;">visible_landfast_ice</th><th style = "text-align: left;">visible_floes</th><th style = "text-align: left;">visible_water</th><th style = "text-align: left;">cloud_fraction_manual</th><th style = "text-align: left;">cloud_category_manual</th><th style = "text-align: left;">artifacts</th><th style = "text-align: left;">qa_analyst</th><th style = "text-align: left;">qa_reviewer</th><th style = "text-align: left;">fl_analyst</th><th style = "text-align: left;">fl_reviewer</th><th style = "text-align: left;">psd_file</th><th style = "text-align: left;">floe_obscuration</th><th style = "text-align: left;">landfast_obscuration</th><th style = "text-align: left;">modis_cloud_error</th><th style = "text-align: left;">notes</th><th style = "text-align: left;">pass_time</th></tr><tr class = "columnLabelRow"><th class = "stubheadLabel" style = "font-weight: bold; text-align: right;"></th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "String" style = "text-align: left;">String</th><th title = "Dates.Date" style = "text-align: left;">Date</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "Missing" style = "text-align: left;">Missing</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "Dates.DateTime" style = "text-align: left;">DateTime</th></tr></thead><tbody><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">0</td><td style = "text-align: right;">1</td><td style = "text-align: left;">baffin_bay</td><td style = "text-align: left;">2022-09-11</td><td style = "text-align: right;">-91.5275</td><td style = "text-align: right;">77.801</td><td style = "text-align: right;">-962500</td><td style = "text-align: right;">-912500</td><td style = "text-align: right;">9</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.573</td><td style = "text-align: right;">48</td><td style = "text-align: left;">terra</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">no</td><td style = "text-align: left;">yes</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: right;">0.5</td><td style = "text-align: left;">thin</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;">emma</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;"></td><td style = "text-align: left;">yes</td><td style = "text-align: left;">heavy</td><td style = "text-align: left;"></td><td style = "text-align: left;">no</td><td style = "text-align: left;">reclassified landfast ice (likely cloud deck)</td><td style = "text-align: left;">2022-09-11T19:08:30</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1</td><td style = "text-align: right;">1</td><td style = "text-align: left;">baffin_bay</td><td style = "text-align: left;">2022-09-11</td><td style = "text-align: right;">-91.5275</td><td style = "text-align: right;">77.801</td><td style = "text-align: right;">-962500</td><td style = "text-align: right;">-912500</td><td style = "text-align: right;">9</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.573</td><td style = "text-align: right;">48</td><td style = "text-align: left;">aqua</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">no</td><td style = "text-align: left;">yes</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: right;">0.4</td><td style = "text-align: left;">thin</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">ethan</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;"></td><td style = "text-align: left;">yes</td><td style = "text-align: left;">heavy</td><td style = "text-align: left;"></td><td style = "text-align: left;">no</td><td style = "text-align: left;">reclassified landfast ice (likely cloud deck)</td><td style = "text-align: left;">2022-09-11T17:34:20</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2</td><td style = "text-align: right;">2</td><td style = "text-align: left;">baffin_bay</td><td style = "text-align: left;">2015-03-12</td><td style = "text-align: right;">-81.9643</td><td style = "text-align: right;">76.0579</td><td style = "text-align: right;">-912500</td><td style = "text-align: right;">-1212500</td><td style = "text-align: right;">3</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.858</td><td style = "text-align: right;">24</td><td style = "text-align: left;">terra</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">no</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: right;">0.2</td><td style = "text-align: left;">scattered</td><td style = "text-align: left;">no</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;">emma</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;">no</td><td style = "text-align: left;"></td><td style = "text-align: left;">2015-03-12T18:09:23</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: right;">3</td><td style = "text-align: right;">2</td><td style = "text-align: left;">baffin_bay</td><td style = "text-align: left;">2015-03-12</td><td style = "text-align: right;">-81.9643</td><td style = "text-align: right;">76.0579</td><td style = "text-align: right;">-912500</td><td style = "text-align: right;">-1212500</td><td style = "text-align: right;">3</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.858</td><td style = "text-align: right;">24</td><td style = "text-align: left;">aqua</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">no</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: right;">0.2</td><td style = "text-align: left;">thin</td><td style = "text-align: left;">no</td><td style = "text-align: left;">ethan</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;">no</td><td style = "text-align: left;"></td><td style = "text-align: left;">2015-03-12T16:52:37</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: right;">4</td><td style = "text-align: right;">3</td><td style = "text-align: left;">baffin_bay</td><td style = "text-align: left;">2012-04-19</td><td style = "text-align: right;">-79.5793</td><td style = "text-align: right;">75.6372</td><td style = "text-align: right;">-887500</td><td style = "text-align: right;">-1287500</td><td style = "text-align: right;">4</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.873</td><td style = "text-align: right;">20</td><td style = "text-align: left;">terra</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">no</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: right;">0.8</td><td style = "text-align: left;">thin</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;">emma</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;">heavy</td><td style = "text-align: left;">no</td><td style = "text-align: left;"></td><td style = "text-align: left;">2012-04-19T17:26:07</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">6</td><td style = "text-align: right;">5</td><td style = "text-align: right;">3</td><td style = "text-align: left;">baffin_bay</td><td style = "text-align: left;">2012-04-19</td><td style = "text-align: right;">-79.5793</td><td style = "text-align: right;">75.6372</td><td style = "text-align: right;">-887500</td><td style = "text-align: right;">-1287500</td><td style = "text-align: right;">4</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.873</td><td style = "text-align: right;">20</td><td style = "text-align: left;">aqua</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">no</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: right;">0.8</td><td style = "text-align: left;">thin</td><td style = "text-align: left;">no</td><td style = "text-align: left;">ethan</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;">heavy</td><td style = "text-align: left;">no</td><td style = "text-align: left;"></td><td style = "text-align: left;">2012-04-19T16:09:29</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">7</td><td style = "text-align: right;">6</td><td style = "text-align: right;">4</td><td style = "text-align: left;">baffin_bay</td><td style = "text-align: left;">2019-09-25</td><td style = "text-align: right;">-76.8094</td><td style = "text-align: right;">79.3029</td><td style = "text-align: right;">-612500</td><td style = "text-align: right;">-987500</td><td style = "text-align: right;">9</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.822</td><td style = "text-align: right;">33</td><td style = "text-align: left;">terra</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">yes</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: right;">0.6</td><td style = "text-align: left;">scattered</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;">emma</td><td style = "text-align: left;">emma</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">moderate</td><td style = "text-align: left;"></td><td style = "text-align: left;">no</td><td style = "text-align: left;"></td><td style = "text-align: left;">2019-09-25T18:44:48</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">8</td><td style = "text-align: right;">7</td><td style = "text-align: right;">4</td><td style = "text-align: left;">baffin_bay</td><td style = "text-align: left;">2019-09-25</td><td style = "text-align: right;">-76.8094</td><td style = "text-align: right;">79.3029</td><td style = "text-align: right;">-612500</td><td style = "text-align: right;">-987500</td><td style = "text-align: right;">9</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.822</td><td style = "text-align: right;">33</td><td style = "text-align: left;">aqua</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">yes</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: right;">0.8</td><td style = "text-align: left;">scattered</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">ethan</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;">emma</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">light</td><td style = "text-align: left;"></td><td style = "text-align: left;">no</td><td style = "text-align: left;"></td><td style = "text-align: left;">2019-09-25T15:51:00</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">9</td><td style = "text-align: right;">8</td><td style = "text-align: right;">5</td><td style = "text-align: left;">baffin_bay</td><td style = "text-align: left;">2013-03-08</td><td style = "text-align: right;">-74.8142</td><td style = "text-align: right;">78.2037</td><td style = "text-align: right;">-637500</td><td style = "text-align: right;">-1112500</td><td style = "text-align: right;">3</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.845</td><td style = "text-align: right;">22</td><td style = "text-align: left;">terra</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">yes</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: right;">0.1</td><td style = "text-align: left;">scattered</td><td style = "text-align: left;">no</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;">emma</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;"></td><td style = "text-align: left;">yes</td><td style = "text-align: left;">light</td><td style = "text-align: left;"></td><td style = "text-align: left;">no</td><td style = "text-align: left;"></td><td style = "text-align: left;">2013-03-08T17:56:22</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">10</td><td style = "text-align: right;">9</td><td style = "text-align: right;">5</td><td style = "text-align: left;">baffin_bay</td><td style = "text-align: left;">2013-03-08</td><td style = "text-align: right;">-74.8142</td><td style = "text-align: right;">78.2037</td><td style = "text-align: right;">-637500</td><td style = "text-align: right;">-1112500</td><td style = "text-align: right;">3</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.845</td><td style = "text-align: right;">22</td><td style = "text-align: left;">aqua</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">yes</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: right;">0.3</td><td style = "text-align: left;">scattered</td><td style = "text-align: left;">no</td><td style = "text-align: left;">ethan</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;"></td><td style = "text-align: left;">yes</td><td style = "text-align: left;">light</td><td style = "text-align: left;"></td><td style = "text-align: left;">no</td><td style = "text-align: left;"></td><td style = "text-align: left;">2013-03-08T15:02:16</td></tr></tbody></table></div><p>For the example, we choose a single case from Baffin Bay in May 2022.</p><pre><code class="language-julia hljs">dataset = filter(c-&gt; c.case_number == 6 &amp;&amp; c.satellite == &quot;terra&quot;, full_dataset)
case = first(dataset)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Case(GitHubLoader(&quot;https://github.com/danielmwatkins/ice_floe_validation_dataset/&quot;, &quot;v0.1&quot;, &quot;/tmp/Watkins2026&quot;), <span class="sgr1">DataFrameRow</span>
<span class="sgr1"> Row </span>│<span class="sgr1">        case_number  region      start_date  center_lon  center_lat  cen</span> ⋯
<span class="sgr1">     </span>│<span class="sgr90"> Int64  Int64        String      Dates.Date  Float64     Float64     Int</span> ⋯
─────┼──────────────────────────────────────────────────────────────────────────
   1 │    10            6  baffin_bay  2022-05-30    -73.3612     75.2608   -7 ⋯
<span class="sgr36">                                                              24 columns omitted</span>)</code></pre><p>The data include the true-color image:</p><pre><code class="language-julia hljs">truecolor = modis_truecolor(case)</code></pre><img src="06a606df.png" alt="Example block output"/><p>... a false-color image:</p><pre><code class="language-julia hljs">falsecolor = modis_falsecolor(case)</code></pre><img src="fb2b9f9a.png" alt="Example block output"/><p>... and a landmask, which in this particular case is empty:</p><pre><code class="language-julia hljs">landmask = modis_landmask(case)</code></pre><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAAAAACl1GkQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAzdJREFUeAHtwSEBAAAAgzAE/TO/BuKbXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXIpcilyKXMoAzNMGQd3JcXEAAAAASUVORK5C"><h2 id="Run-the-segmentation-algorithm"><a class="docs-heading-anchor" href="#Run-the-segmentation-algorithm">Run the segmentation algorithm</a><a id="Run-the-segmentation-algorithm-1"></a><a class="docs-heading-anchor-permalink" href="#Run-the-segmentation-algorithm" title="Permalink"></a></h2><p>The segmentation algorithm is an object with parameters as follows:</p><pre><code class="language-julia hljs">segmentation_algorithm = LopezAcosta2019.Segment()</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">IceFloeTracker.LopezAcosta2019.Segment(Bool[0 0 … 0 0; 0 0 … 0 0; … ; 0 0 … 0 0; 0 0 … 0 0], LopezAcostaCloudMask(0.43137254901960786, 0.7843137254901961, 0.7450980392156863, 0.0, 0.0, 0.75), PeronaMalikDiffusion(0.1, 0.1, 5, &quot;exponential&quot;), (nbins = 256, rblocks = 8, cblocks = 8, clip = 0.95), (smoothing_param = 10, intensity = 0.5), (k = 4, maxiter = 50, random_seed = 45), IceDetectionFirstNonZeroAlgorithm(IceDetectionAlgorithm[IceDetectionThresholdMODIS721(0.0196078431372549, 0.9019607843137255, 0.9411764705882353), IceDetectionThresholdMODIS721(0.0392156862745098, 0.9019607843137255, 0.7450980392156863), IceDetectionBrightnessPeaksMODIS721(0.0196078431372549, 0.29411764705882354, 64, 0.01, 3, &quot;intersection&quot;)], 10))</code></pre><p>If we wanted to modify the options, we could include those in the call above.  See the documentation for <code>LopezAcosta2019.Segment</code> for details. The default parameters are as follows:</p><pre><code class="language-julia hljs">dump(segmentation_algorithm)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">IceFloeTracker.LopezAcosta2019.Segment
  coastal_buffer_structuring_element: Array{Bool}((99, 99)) Bool[0 0 … 0 0; 0 0 … 0 0; … ; 0 0 … 0 0; 0 0 … 0 0]
  cloud_mask_algorithm: LopezAcostaCloudMask
    prelim_threshold: Float64 0.43137254901960786
    band_7_threshold: Float64 0.7843137254901961
    band_2_threshold: Float64 0.7450980392156863
    ratio_lower: Float64 0.0
    ratio_offset: Float64 0.0
    ratio_upper: Float64 0.75
  diffusion_algorithm: PeronaMalikDiffusion
    λ: Float64 0.1
    K: Float64 0.1
    niters: Int64 5
    g: String &quot;exponential&quot;
  adapthisteq_params: @NamedTuple{nbins::Int64, rblocks::Int64, cblocks::Int64, clip::Float64}
    nbins: Int64 256
    rblocks: Int64 8
    cblocks: Int64 8
    clip: Float64 0.95
  unsharp_mask_params: @NamedTuple{smoothing_param::Int64, intensity::Float64}
    smoothing_param: Int64 10
    intensity: Float64 0.5
  kmeans_params: @NamedTuple{k::Int64, maxiter::Int64, random_seed::Int64}
    k: Int64 4
    maxiter: Int64 50
    random_seed: Int64 45
  cluster_selection_algorithm: IceDetectionFirstNonZeroAlgorithm
    algorithms: Array{IceDetectionAlgorithm}((3,))
      1: IceDetectionThresholdMODIS721
        band_7_max: Float64 0.0196078431372549
        band_2_min: Float64 0.9019607843137255
        band_1_min: Float64 0.9411764705882353
      2: IceDetectionThresholdMODIS721
        band_7_max: Float64 0.0392156862745098
        band_2_min: Float64 0.9019607843137255
        band_1_min: Float64 0.7450980392156863
      3: IceDetectionBrightnessPeaksMODIS721
        band_7_max: Float64 0.0196078431372549
        possible_ice_threshold: Float64 0.29411764705882354
        nbins: Int64 64
        minimum_prominence: Float64 0.01
        window_size: Int64 3
        join_method: String &quot;intersection&quot;
    threshold: Int64 10</code></pre><p>Run the algorithm as follows:</p><pre><code class="language-julia hljs">segments = segmentation_algorithm(RGB.(truecolor), RGB.(falsecolor), landmask)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Segmented Image with:
  labels map: 400×400 Matrix{Int64}
  number of labels: 74</code></pre><p>To show the results with each segment marked using its mean color:</p><pre><code class="language-julia hljs">map(i -&gt; segment_mean(segments, i), labels_map(segments))</code></pre><img src="6faa1321.png" alt="Example block output"/><p>We can do the same with the falsecolor image:</p><pre><code class="language-julia hljs"># Get the labels_map
segments_falsecolor = SegmentedImage(falsecolor, labels_map(segments))
map(i -&gt; segment_mean(segments_falsecolor, i), labels_map(segments_falsecolor))</code></pre><img src="bb235d7f.png" alt="Example block output"/><p>Let&#39;s compare the segmented output to the manually validated labels:</p><pre><code class="language-julia hljs">man_labels = validated_binary_floes(case)
outlines = man_labels .- erode(man_labels)
seg_vs = map(i -&gt; segment_mean(segments, i), labels_map(segments))
mosaicview(truecolor, seg_vs .* (1 .- Float64.(outlines)), nrow=1)</code></pre><img src="7087f743.png" alt="Example block output"/><h2 id="Run-the-segmentation-algorithm-with-tiling"><a class="docs-heading-anchor" href="#Run-the-segmentation-algorithm-with-tiling">Run the segmentation algorithm with tiling</a><a id="Run-the-segmentation-algorithm-with-tiling-1"></a><a class="docs-heading-anchor-permalink" href="#Run-the-segmentation-algorithm-with-tiling" title="Permalink"></a></h2><p>The &quot;tiling&quot; version of the algorithm is an object:</p><pre><code class="language-julia hljs">segmentation_algorithm_with_tiling = LopezAcosta2019Tiling.Segment()</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">IceFloeTracker.LopezAcosta2019Tiling.Segment((rblocks = 2, cblocks = 2), (prelim_threshold = 0.43137254901960786, band_7_threshold = 0.7843137254901961, band_2_threshold = 0.7450980392156863, ratio_lower = 0.0, ratio_offset = 0.0, ratio_upper = 0.75), (white_threshold = 25.5, entropy_threshold = 4, white_fraction_threshold = 0.4), (gamma = 1.5, gamma_factor = 1.3, gamma_threshold = 220), (se_disk1 = Bool[0 1 0; 1 1 1; 0 1 0], se_disk2 = Bool[0 0 … 0 0; 0 1 … 1 0; … ; 0 1 … 1 0; 0 0 … 0 0], se_disk4 = Bool[0 0 … 0 0; 0 1 … 1 0; … ; 0 1 … 1 0; 0 0 … 0 0]), (radius = 10, amount = 2.0, factor = 255.0), (band_7_max = 0.0196078431372549, band_2_min = 0.9019607843137255, band_1_min = 0.9411764705882353, band_7_max_relaxed = 0.0392156862745098, band_1_min_relaxed = 0.7450980392156863, possible_ice_threshold = 0.29411764705882354), (radius = 10, amount = 2, factor = 0.5), 0.1, Bool[1 1 … 1 1; 1 1 … 1 1; … ; 1 1 … 1 1; 1 1 … 1 1])</code></pre><p>It has more configurable parameters.  For details, see the documentation of <code>LopezAcosta2019Tiling.Segment</code>. The default parameters are as follows:</p><pre><code class="language-julia hljs">dump(segmentation_algorithm_with_tiling)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">IceFloeTracker.LopezAcosta2019Tiling.Segment
  tile_settings: @NamedTuple{rblocks::Int64, cblocks::Int64}
    rblocks: Int64 2
    cblocks: Int64 2
  cloud_mask_thresholds: @NamedTuple{prelim_threshold::Float64, band_7_threshold::Float64, band_2_threshold::Float64, ratio_lower::Float64, ratio_offset::Float64, ratio_upper::Float64}
    prelim_threshold: Float64 0.43137254901960786
    band_7_threshold: Float64 0.7843137254901961
    band_2_threshold: Float64 0.7450980392156863
    ratio_lower: Float64 0.0
    ratio_offset: Float64 0.0
    ratio_upper: Float64 0.75
  adapthisteq_params: @NamedTuple{white_threshold::Float64, entropy_threshold::Int64, white_fraction_threshold::Float64}
    white_threshold: Float64 25.5
    entropy_threshold: Int64 4
    white_fraction_threshold: Float64 0.4
  adjust_gamma_params: @NamedTuple{gamma::Float64, gamma_factor::Float64, gamma_threshold::Int64}
    gamma: Float64 1.5
    gamma_factor: Float64 1.3
    gamma_threshold: Int64 220
  structuring_elements: @NamedTuple{se_disk1::Matrix{Bool}, se_disk2::Matrix{Bool}, se_disk4::Matrix{Bool}}
    se_disk1: Array{Bool}((3, 3)) Bool[0 1 0; 1 1 1; 0 1 0]
    se_disk2: Array{Bool}((5, 5)) Bool[0 0 … 0 0; 0 1 … 1 0; … ; 0 1 … 1 0; 0 0 … 0 0]
    se_disk4: Array{Bool}((7, 7)) Bool[0 0 … 0 0; 0 1 … 1 0; … ; 0 1 … 1 0; 0 0 … 0 0]
  unsharp_mask_params: @NamedTuple{radius::Int64, amount::Float64, factor::Float64}
    radius: Int64 10
    amount: Float64 2.0
    factor: Float64 255.0
  ice_masks_params: @NamedTuple{band_7_max::Float64, band_2_min::Float64, band_1_min::Float64, band_7_max_relaxed::Float64, band_1_min_relaxed::Float64, possible_ice_threshold::Float64}
    band_7_max: Float64 0.0196078431372549
    band_2_min: Float64 0.9019607843137255
    band_1_min: Float64 0.9411764705882353
    band_7_max_relaxed: Float64 0.0392156862745098
    band_1_min_relaxed: Float64 0.7450980392156863
    possible_ice_threshold: Float64 0.29411764705882354
  prelim_icemask_params: @NamedTuple{radius::Int64, amount::Int64, factor::Float64}
    radius: Int64 10
    amount: Int64 2
    factor: Float64 0.5
  brighten_factor: Float64 0.1
  coastal_buffer_structuring_element: ImageMorphology.StructuringElements.SEBoxArray{2, UnitRange{Int64}}
    axes: Tuple{UnitRange{Int64}, UnitRange{Int64}}
      1: UnitRange{Int64}
        start: Int64 -25
        stop: Int64 25
      2: UnitRange{Int64}
        start: Int64 -25
        stop: Int64 25
    r: Tuple{Int64, Int64}
      1: Int64 25
      2: Int64 25</code></pre><pre><code class="language-julia hljs">segments = segmentation_algorithm_with_tiling(truecolor, falsecolor, landmask)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Segmented Image with:
  labels map: 400×400 Matrix{Int64}
  number of labels: 352</code></pre><p>To show the results with each segment marked using its mean color:</p><pre><code class="language-julia hljs">map(i -&gt; segment_mean(segments, i), labels_map(segments))</code></pre><img src="d5652623.png" alt="Example block output"/><p>With the falsecolor image:</p><pre><code class="language-julia hljs"># Get the labels_map
segments_falsecolor = SegmentedImage(falsecolor, labels_map(segments))
map(i -&gt; segment_mean(segments_falsecolor, i), labels_map(segments_falsecolor))</code></pre><img src="622f1b26.png" alt="Example block output"/><p>Let&#39;s compare the segmented output to the manually validated labels:</p><pre><code class="language-julia hljs">man_labels = validated_binary_floes(case)
outlines = man_labels .- erode(man_labels)
seg_vs = map(i -&gt; segment_mean(segments, i), labels_map(segments))
mosaicview(truecolor, seg_vs .* (1 .- Float64.(outlines)), nrow=1)</code></pre><img src="a9a4e058.png" alt="Example block output"/></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../tracking/">« Tracking</a><a class="docs-footer-nextpage" href="../segmentation-tracking/">Ice Floe Segmentation and Tracking Algorithm »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.17.0 on <span class="colophon-date" title="Friday 20 February 2026 21:41">Friday 20 February 2026</span>. Using Julia version 1.12.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
