<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Segmentation Algorithm Workflows · IceFloeTracker.jl</title><meta name="title" content="Segmentation Algorithm Workflows · IceFloeTracker.jl"/><meta property="og:title" content="Segmentation Algorithm Workflows · IceFloeTracker.jl"/><meta property="twitter:title" content="Segmentation Algorithm Workflows · IceFloeTracker.jl"/><meta name="description" content="Documentation for IceFloeTracker.jl."/><meta property="og:description" content="Documentation for IceFloeTracker.jl."/><meta property="twitter:description" content="Documentation for IceFloeTracker.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="IceFloeTracker.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">IceFloeTracker.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">IceFloeTracker.jl</a></li><li><a class="tocitem" href="../../preprocessing/">Preprocessing</a></li><li><a class="tocitem" href="../../segmentation/">Segmentation</a></li><li><a class="tocitem" href="../../tracking/">Tracking</a></li><li><span class="tocitem">Tutorials</span><ul><li class="is-active"><a class="tocitem" href>Segmentation Algorithm Workflows</a><ul class="internal"><li><a class="tocitem" href="#Load-the-images"><span>Load the images</span></a></li><li><a class="tocitem" href="#Run-the-segmentation-algorithm"><span>Run the segmentation algorithm</span></a></li><li><a class="tocitem" href="#Run-the-segmentation-algorithm-with-tiling"><span>Run the segmentation algorithm with tiling</span></a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>Segmentation Algorithm Workflows</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Segmentation Algorithm Workflows</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/WilhelmusLab/IceFloeTracker.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/WilhelmusLab/IceFloeTracker.jl/blob/main/docs/prebuild/tutorials/lopez-acosta-2019-workflow.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><p><a href="https://colab.research.google.com/github/WilhelmusLab/IceFloeTracker.jl/blob/refs/pull/810/merge/docs/src/tutorials/lopez-acosta-2019-workflow.ipynb"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open this notebook in Colab"/></a></p><h1 id="Segmentation-Algorithm-Workflows"><a class="docs-heading-anchor" href="#Segmentation-Algorithm-Workflows">Segmentation Algorithm Workflows</a><a id="Segmentation-Algorithm-Workflows-1"></a><a class="docs-heading-anchor-permalink" href="#Segmentation-Algorithm-Workflows" title="Permalink"></a></h1><p>This notebook demonstrates IceFloeTracker.jl&#39;s segmentation algorithms  with very basic examples of their use.</p><pre><code class="language- hljs">
# Setup environment
using Pkg
Pkg.add(;name=&quot;IceFloeTracker&quot;, rev=&quot;810/merge&quot;)
Pkg.add(&quot;Images&quot;)
</code></pre><pre><code class="language-julia hljs"># Load packages
using IceFloeTracker: LopezAcosta2019, LopezAcosta2019Tiling, Watkins2025GitHub
using Images: erode, segment_mean, labels_map, SegmentedImage, RGB, mosaicview</code></pre><h2 id="Load-the-images"><a class="docs-heading-anchor" href="#Load-the-images">Load the images</a><a id="Load-the-images-1"></a><a class="docs-heading-anchor-permalink" href="#Load-the-images" title="Permalink"></a></h2><p>Load the dataset from <a href="https://github.com/danielmwatkins/ice_floe_validation_dataset">https://github.com/danielmwatkins/ice<em>floe</em>validation_dataset</a> using the <code>Watkins2025GitHub</code> data loader.</p><pre><code class="language-julia hljs">data_loader = Watkins2025GitHub(; ref=&quot;a451cd5e62a10309a9640fbbe6b32a236fcebc70&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Watkins2025GitHub(&quot;a451cd5e62a10309a9640fbbe6b32a236fcebc70&quot;, &quot;https://github.com/danielmwatkins/ice_floe_validation_dataset/&quot;, &quot;data/validation_dataset/validation_dataset.csv&quot;, &quot;/tmp/Watkins2025&quot;)</code></pre><p>The available data are listed in the metadata field:</p><pre><code class="language-julia hljs">first(data_loader().metadata, 10)</code></pre><div><div style = "float: left;"><span>10×28 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "columnLabelRow"><th class = "stubheadLabel" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">case_number</th><th style = "text-align: left;">region</th><th style = "text-align: left;">start_date</th><th style = "text-align: left;">center_lon</th><th style = "text-align: left;">center_lat</th><th style = "text-align: left;">center_x</th><th style = "text-align: left;">center_y</th><th style = "text-align: left;">month</th><th style = "text-align: left;">sea_ice_fraction</th><th style = "text-align: left;">mean_sea_ice_concentration</th><th style = "text-align: left;">init_case_number</th><th style = "text-align: left;">satellite</th><th style = "text-align: left;">visible_sea_ice</th><th style = "text-align: left;">visible_landfast_ice</th><th style = "text-align: left;">visible_floes</th><th style = "text-align: left;">visible_water</th><th style = "text-align: left;">cloud_fraction_manual</th><th style = "text-align: left;">cloud_category_manual</th><th style = "text-align: left;">artifacts</th><th style = "text-align: left;">qa_analyst</th><th style = "text-align: left;">qa_reviewer</th><th style = "text-align: left;">fl_analyst</th><th style = "text-align: left;">fl_reviewer</th><th style = "text-align: left;">psd_file</th><th style = "text-align: left;">floe_obscuration</th><th style = "text-align: left;">landfast_obscuration</th><th style = "text-align: left;">modis_cloud_error</th><th style = "text-align: left;">notes</th></tr><tr class = "columnLabelRow"><th class = "stubheadLabel" style = "font-weight: bold; text-align: right;"></th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "String" style = "text-align: left;">String</th><th title = "Dates.Date" style = "text-align: left;">Date</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "Int64" style = "text-align: left;">Int64</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "Missing" style = "text-align: left;">Missing</th><th title = "Float64" style = "text-align: left;">Float64</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th><th title = "String" style = "text-align: left;">String</th></tr></thead><tbody><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: right;">1</td><td style = "text-align: left;">baffin_bay</td><td style = "text-align: left;">2022-09-11</td><td style = "text-align: right;">-91.5275</td><td style = "text-align: right;">77.801</td><td style = "text-align: right;">-962500</td><td style = "text-align: right;">-912500</td><td style = "text-align: right;">9</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.573</td><td style = "text-align: right;">48</td><td style = "text-align: left;">terra</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">no</td><td style = "text-align: left;">yes</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: right;">0.5</td><td style = "text-align: left;">thin</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;">emma</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;"></td><td style = "text-align: left;">yes</td><td style = "text-align: left;">heavy</td><td style = "text-align: left;"></td><td style = "text-align: left;">no</td><td style = "text-align: left;">reclassified landfast ice (likely cloud deck)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: right;">1</td><td style = "text-align: left;">baffin_bay</td><td style = "text-align: left;">2022-09-11</td><td style = "text-align: right;">-91.5275</td><td style = "text-align: right;">77.801</td><td style = "text-align: right;">-962500</td><td style = "text-align: right;">-912500</td><td style = "text-align: right;">9</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.573</td><td style = "text-align: right;">48</td><td style = "text-align: left;">aqua</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">no</td><td style = "text-align: left;">yes</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: right;">0.4</td><td style = "text-align: left;">thin</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">ethan</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;"></td><td style = "text-align: left;">yes</td><td style = "text-align: left;">heavy</td><td style = "text-align: left;"></td><td style = "text-align: left;">no</td><td style = "text-align: left;">reclassified landfast ice (likely cloud deck)</td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: right;">2</td><td style = "text-align: left;">baffin_bay</td><td style = "text-align: left;">2015-03-12</td><td style = "text-align: right;">-81.9643</td><td style = "text-align: right;">76.0579</td><td style = "text-align: right;">-912500</td><td style = "text-align: right;">-1212500</td><td style = "text-align: right;">3</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.858</td><td style = "text-align: right;">24</td><td style = "text-align: left;">terra</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">no</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: right;">0.2</td><td style = "text-align: left;">scattered</td><td style = "text-align: left;">no</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;">emma</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;">no</td><td style = "text-align: left;"></td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: right;">2</td><td style = "text-align: left;">baffin_bay</td><td style = "text-align: left;">2015-03-12</td><td style = "text-align: right;">-81.9643</td><td style = "text-align: right;">76.0579</td><td style = "text-align: right;">-912500</td><td style = "text-align: right;">-1212500</td><td style = "text-align: right;">3</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.858</td><td style = "text-align: right;">24</td><td style = "text-align: left;">aqua</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">no</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: right;">0.2</td><td style = "text-align: left;">thin</td><td style = "text-align: left;">no</td><td style = "text-align: left;">ethan</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;">no</td><td style = "text-align: left;"></td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: right;">3</td><td style = "text-align: left;">baffin_bay</td><td style = "text-align: left;">2012-04-19</td><td style = "text-align: right;">-79.5793</td><td style = "text-align: right;">75.6372</td><td style = "text-align: right;">-887500</td><td style = "text-align: right;">-1287500</td><td style = "text-align: right;">4</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.873</td><td style = "text-align: right;">20</td><td style = "text-align: left;">terra</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">no</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: right;">0.8</td><td style = "text-align: left;">thin</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;">emma</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;">heavy</td><td style = "text-align: left;">no</td><td style = "text-align: left;"></td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">6</td><td style = "text-align: right;">3</td><td style = "text-align: left;">baffin_bay</td><td style = "text-align: left;">2012-04-19</td><td style = "text-align: right;">-79.5793</td><td style = "text-align: right;">75.6372</td><td style = "text-align: right;">-887500</td><td style = "text-align: right;">-1287500</td><td style = "text-align: right;">4</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.873</td><td style = "text-align: right;">20</td><td style = "text-align: left;">aqua</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">no</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: right;">0.8</td><td style = "text-align: left;">thin</td><td style = "text-align: left;">no</td><td style = "text-align: left;">ethan</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;"></td><td style = "text-align: left;">heavy</td><td style = "text-align: left;">no</td><td style = "text-align: left;"></td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">7</td><td style = "text-align: right;">4</td><td style = "text-align: left;">baffin_bay</td><td style = "text-align: left;">2019-09-25</td><td style = "text-align: right;">-76.8094</td><td style = "text-align: right;">79.3029</td><td style = "text-align: right;">-612500</td><td style = "text-align: right;">-987500</td><td style = "text-align: right;">9</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.822</td><td style = "text-align: right;">33</td><td style = "text-align: left;">terra</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">yes</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: right;">0.6</td><td style = "text-align: left;">scattered</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;">emma</td><td style = "text-align: left;">emma</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">moderate</td><td style = "text-align: left;"></td><td style = "text-align: left;">no</td><td style = "text-align: left;"></td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">8</td><td style = "text-align: right;">4</td><td style = "text-align: left;">baffin_bay</td><td style = "text-align: left;">2019-09-25</td><td style = "text-align: right;">-76.8094</td><td style = "text-align: right;">79.3029</td><td style = "text-align: right;">-612500</td><td style = "text-align: right;">-987500</td><td style = "text-align: right;">9</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.822</td><td style = "text-align: right;">33</td><td style = "text-align: left;">aqua</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">yes</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: right;">0.8</td><td style = "text-align: left;">scattered</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">ethan</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;">emma</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">light</td><td style = "text-align: left;"></td><td style = "text-align: left;">no</td><td style = "text-align: left;"></td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">9</td><td style = "text-align: right;">5</td><td style = "text-align: left;">baffin_bay</td><td style = "text-align: left;">2013-03-08</td><td style = "text-align: right;">-74.8142</td><td style = "text-align: right;">78.2037</td><td style = "text-align: right;">-637500</td><td style = "text-align: right;">-1112500</td><td style = "text-align: right;">3</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.845</td><td style = "text-align: right;">22</td><td style = "text-align: left;">terra</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">yes</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: right;">0.1</td><td style = "text-align: left;">scattered</td><td style = "text-align: left;">no</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;">emma</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;"></td><td style = "text-align: left;">yes</td><td style = "text-align: left;">light</td><td style = "text-align: left;"></td><td style = "text-align: left;">no</td><td style = "text-align: left;"></td></tr><tr class = "dataRow"><td class = "rowLabel" style = "font-weight: bold; text-align: right;">10</td><td style = "text-align: right;">5</td><td style = "text-align: left;">baffin_bay</td><td style = "text-align: left;">2013-03-08</td><td style = "text-align: right;">-74.8142</td><td style = "text-align: right;">78.2037</td><td style = "text-align: right;">-637500</td><td style = "text-align: right;">-1112500</td><td style = "text-align: right;">3</td><td style = "text-align: right;">1.0</td><td style = "text-align: right;">0.845</td><td style = "text-align: right;">22</td><td style = "text-align: left;">aqua</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">yes</td><td style = "text-align: left;">yes</td><td style = "font-style: italic; text-align: right;">missing</td><td style = "text-align: right;">0.3</td><td style = "text-align: left;">scattered</td><td style = "text-align: left;">no</td><td style = "text-align: left;">ethan</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;">daniel</td><td style = "text-align: left;"></td><td style = "text-align: left;">yes</td><td style = "text-align: left;">light</td><td style = "text-align: left;"></td><td style = "text-align: left;">no</td><td style = "text-align: left;"></td></tr></tbody></table></div><p>For the example, we choose a single case from Baffin Bay in May 2022.</p><pre><code class="language-julia hljs">dataset = data_loader(c-&gt; c.case_number == 6 &amp;&amp; c.satellite == &quot;terra&quot;)
case = first(dataset)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">ValidationDataCase(&quot;006-baffin_bay-100km-20220530-terra-250m&quot;, Dict{Symbol, Any}(:sea_ice_fraction =&gt; 1.0, :visible_floes =&gt; &quot;yes&quot;, :visible_landfast_ice =&gt; &quot;no&quot;, :region =&gt; &quot;baffin_bay&quot;, :cloud_category_manual =&gt; &quot;thin&quot;, :qa_reviewer =&gt; &quot;emma&quot;, :center_x =&gt; -762500, :modis_cloud_error =&gt; &quot;no&quot;, :start_date =&gt; Dates.Date(&quot;2022-05-30&quot;), :satellite =&gt; &quot;terra&quot;…), ColorTypes.RGBA{FixedPointNumbers.N0f8}[RGBA{N0f8}(0.651,0.675,0.722,1.0) RGBA{N0f8}(0.608,0.635,0.675,1.0) … RGBA{N0f8}(0.831,0.835,0.812,1.0) RGBA{N0f8}(0.824,0.827,0.835,1.0); RGBA{N0f8}(0.71,0.741,0.784,1.0) RGBA{N0f8}(0.675,0.702,0.741,1.0) … RGBA{N0f8}(0.882,0.882,0.851,1.0) RGBA{N0f8}(0.835,0.835,0.835,1.0); … ; RGBA{N0f8}(0.816,0.831,0.843,1.0) RGBA{N0f8}(0.839,0.855,0.867,1.0) … RGBA{N0f8}(0.898,0.902,0.918,1.0) RGBA{N0f8}(0.773,0.776,0.792,1.0); RGBA{N0f8}(0.882,0.886,0.902,1.0) RGBA{N0f8}(0.867,0.871,0.886,1.0) … RGBA{N0f8}(0.839,0.843,0.851,1.0) RGBA{N0f8}(0.776,0.78,0.788,1.0)], ColorTypes.RGBA{FixedPointNumbers.N0f8}[RGBA{N0f8}(0.145,0.588,0.651,1.0) RGBA{N0f8}(0.031,0.631,0.651,1.0) … RGBA{N0f8}(0.024,0.906,0.914,1.0) RGBA{N0f8}(0.047,0.898,0.933,1.0); RGBA{N0f8}(0.196,0.639,0.694,1.0) RGBA{N0f8}(0.098,0.694,0.714,1.0) … RGBA{N0f8}(0.02,0.929,0.929,1.0) RGBA{N0f8}(0.008,0.898,0.933,1.0); … ; RGBA{N0f8}(0.125,0.82,0.859,1.0) RGBA{N0f8}(0.094,0.855,0.863,1.0) … RGBA{N0f8}(0.051,0.945,0.949,1.0) RGBA{N0f8}(0.02,0.851,0.855,1.0); RGBA{N0f8}(0.11,0.898,0.925,1.0) RGBA{N0f8}(0.075,0.878,0.898,1.0) … RGBA{N0f8}(0.0,0.91,0.906,1.0) RGBA{N0f8}(0.0,0.82,0.82,1.0)], ColorTypes.RGBA{FixedPointNumbers.N0f8}[RGBA{N0f8}(0.0,0.0,0.0,0.0) RGBA{N0f8}(0.0,0.0,0.0,0.0) … RGBA{N0f8}(0.0,0.0,0.0,0.0) RGBA{N0f8}(0.0,0.0,0.0,0.0); RGBA{N0f8}(0.0,0.0,0.0,0.0) RGBA{N0f8}(0.0,0.0,0.0,0.0) … RGBA{N0f8}(0.0,0.0,0.0,0.0) RGBA{N0f8}(0.0,0.0,0.0,0.0); … ; RGBA{N0f8}(0.0,0.0,0.0,0.0) RGBA{N0f8}(0.0,0.0,0.0,0.0) … RGBA{N0f8}(0.0,0.0,0.0,0.0) RGBA{N0f8}(0.0,0.0,0.0,0.0); RGBA{N0f8}(0.0,0.0,0.0,0.0) RGBA{N0f8}(0.0,0.0,0.0,0.0) … RGBA{N0f8}(0.0,0.0,0.0,0.0) RGBA{N0f8}(0.0,0.0,0.0,0.0)], ColorTypes.RGBA{FixedPointNumbers.N0f8}[RGBA{N0f8}(0.004,0.533,0.933,1.0) RGBA{N0f8}(0.004,0.533,0.933,1.0) … RGBA{N0f8}(0.4,0.016,0.467,1.0) RGBA{N0f8}(0.718,0.067,0.553,1.0); RGBA{N0f8}(0.004,0.533,0.933,1.0) RGBA{N0f8}(0.004,0.533,0.933,1.0) … RGBA{N0f8}(0.4,0.016,0.467,1.0) RGBA{N0f8}(0.718,0.067,0.553,1.0); … ; RGBA{N0f8}(0.4,0.016,0.467,1.0) RGBA{N0f8}(0.4,0.016,0.467,1.0) … RGBA{N0f8}(0.0,0.012,1.0,1.0) RGBA{N0f8}(0.4,0.0,0.467,1.0); RGBA{N0f8}(0.4,0.016,0.467,1.0) RGBA{N0f8}(0.4,0.016,0.467,1.0) … RGBA{N0f8}(0.0,0.012,1.0,1.0) RGBA{N0f8}(0.4,0.0,0.467,1.0)], ColorTypes.Gray{FixedPointNumbers.N0f8}[Gray{N0f8}(0.004) Gray{N0f8}(0.004) … Gray{N0f8}(0.004) Gray{N0f8}(0.004); Gray{N0f8}(0.004) Gray{N0f8}(0.004) … Gray{N0f8}(0.004) Gray{N0f8}(0.004); … ; Gray{N0f8}(0.004) Gray{N0f8}(0.004) … Gray{N0f8}(0.004) Gray{N0f8}(0.004); Gray{N0f8}(0.004) Gray{N0f8}(0.004) … Gray{N0f8}(0.004) Gray{N0f8}(0.004)], ColorTypes.Gray{FixedPointNumbers.N0f8}[Gray{N0f8}(0.012) Gray{N0f8}(0.012) … Gray{N0f8}(0.012) Gray{N0f8}(0.012); Gray{N0f8}(0.012) Gray{N0f8}(0.012) … Gray{N0f8}(0.012) Gray{N0f8}(0.012); … ; Gray{N0f8}(0.012) Gray{N0f8}(0.012) … Gray{N0f8}(0.012) Gray{N0f8}(0.012); Gray{N0f8}(0.012) Gray{N0f8}(0.012) … Gray{N0f8}(0.012) Gray{N0f8}(0.012)], ColorTypes.Gray{Bool}[Gray{Bool}(false) Gray{Bool}(false) … Gray{Bool}(false) Gray{Bool}(false); Gray{Bool}(false) Gray{Bool}(false) … Gray{Bool}(false) Gray{Bool}(false); … ; Gray{Bool}(false) Gray{Bool}(false) … Gray{Bool}(false) Gray{Bool}(false); Gray{Bool}(false) Gray{Bool}(false) … Gray{Bool}(false) Gray{Bool}(false)], Segmented Image with:
  labels map: 400×400 Matrix{Int64}
  number of labels: 177, 176x9 CSV file
label │ area  │ convex_area │ centroid-0 │ centroid-1 │ perimeter
──────┼───────┼─────────────┼────────────┼────────────┼──────────
1     │ 109.0 │ 116.0       │ 6.14679    │ 386.853    │ 38.7279  
2     │ 256.0 │ 268.0       │ 11.957     │ 209.793    │ 61.2132  
3     │ 104.0 │ 115.0       │ 10.5769    │ 308.413    │ 38.3848  
4     │ 268.0 │ 285.0       │ 19.7239    │ 251.519    │ 66.8701  
5     │ 55.0  │ 56.0        │ 14.3273    │ 370.109    │ 24.7279  
6     │ 97.0  │ 100.0       │ 18.4227    │ 237.763    │ 35.0711  
7     │ 288.0 │ 303.0       │ 23.9375    │ 356.965    │ 62.0416  
8     │ 65.0  │ 71.0        │ 21.5231    │ 183.646    │ 30.4853  
9     │ 113.0 │ 117.0       │ 21.292     │ 140.575    │ 38.1421  
10    │ 342.0 │ 364.0       │ 30.9532    │ 168.52     │ 77.3553  
... with 166 more rows, and 3 more columns: axis_major_length, axis_minor_length, case_number)</code></pre><p>The data include the true-color image:</p><pre><code class="language-julia hljs">truecolor = RGB.(case.modis_truecolor) # TODO: remove RGB cast</code></pre><img src="def83822.png" alt="Example block output"/><p>... a false-color image:</p><pre><code class="language-julia hljs">falsecolor = RGB.(case.modis_falsecolor) # TODO: remove RGB cast</code></pre><img src="be52497f.png" alt="Example block output"/><p>... and a landmask, which in this particular case is empty:</p><pre><code class="language-julia hljs">landmask = RGB.(case.modis_landmask) # TODO: remove RGB cast</code></pre><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAIAAAAP3aGbAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAABJRJREFUeAHtwTENAAAAAiAP+2c2hxvQAJxoAE40ACcagBMNwIkG4EQDcKIBONEAnGgATjQAJxqAEw3AiQbgRANwogE40QCcaABONAAnGoATDcCJBuBEA3CiATjRAJxoAE40ACcagBMNwIkG4EQDcKIBONEAnGgATjQAJxqAEw3AiQbgRANwogE40QCcaABONAAnGoATDcCJBuBEA3CiATjRAJxoAE40ACcagBMNwIkG4EQDcKIBONEAnGgATjQAJxqAEw3AiQbgRANwogE40QCcaABONAAnGoATDcCJBuBEA3CiATjRAJxoAE40ACcagBMNwIkG4EQDcKIBONEAnGgATjQAJxqAEw3AiQbgRANwogE40QCcaABONAAnGoATDcCJBuBEA3CiATjRAJxoAE40ACcagBMNwIkG4EQDcKIBONEAnGgATjQAJxqAEw3AiQbgRANwogE40QCcaABONAAnGoATDcCJBuBEA3CiATjRAJxoAE40ACcagBMNwIkG4EQDcKIBONEAnGgATjQAJxqAEw3AiQbgRANwogE40QCcaABONAAnGoATDcCJBuBEA3CiATjRAJxoAE40ACcagBMNwIkG4EQDcKIBONEAnGgATjQAJxqAEw3AiQbgRANwogE40QCcaABONAAnGoATDcCJBuBEA3CiATjRAJxoAE40ACcagBMNwIkG4EQDcKIBONEAnGgATjQAJxqAEw3AiQbgRANwogE40QCcaABONAAnGoATDcCJBuBEA3CiATjRAJxoAE40ACcagBMNwIkG4EQDcKIBONEAnGgATjQAJxqAEw3AiQbgRANwogE40QCcaABONAAnGoATDcCJBuBEA3CiATjRAJxoAE40ACcagBMNwIkG4EQDcKIBONEAnGgATjQAJxqAEw3AiQbgRANwogE40QCcaABONAAnGoATDcCJBuBEA3CiATjRAJxoAE40ACcagBMNwIkG4EQDcKIBONEAnGgATjQAJxqAEw3AiQbgRANwogE40QCcaABONAAnGoATDcCJBuBEA3CiATjRAJxoAE40ACcagBMNwIkG4EQDcKIBONEAnGgATjQAJxqAEw3AiQbgRANwogE40QCcaABONAAnGoATDcCJBuBEA3CiATjRAJxoAE40ACcagBMNwIkG4EQDcKIBONEAnGgATjQAJxqAEw3AiQbgRANwogE40QCcaABONAAnGoATDcCJBuBEA3CiATjRAJxoAE40ACcagBMNwIkG4EQDcKIBONEAnGgATjQAJxqAEw3AiQbgRANwogE40QCcaABONAAnGoATDcCJBuBEA3CiATjRAJxoAE40ACcagBMNwIkG4EQDcKIBONEAnGgATjQAJxqAEw3AiQbgRANwogE40QCcaABONAAnGoATDcCJBuBEA3CiATjRAJxoAE40ACcagBMNwIkG4EQDcKIBONEAnGgATjQAJxqAEw3AiQbgRANwogE40QCcaABONAAnGoATDcCJBuBEA3CiATjRAJxoAE40ACcagBMNwIkG4EQDcKIBONEAnGgATjQAJxqAEw3AiQbgRANwogE4MZihBkGspkBFAAAAAElFTkSuQmCC"><h2 id="Run-the-segmentation-algorithm"><a class="docs-heading-anchor" href="#Run-the-segmentation-algorithm">Run the segmentation algorithm</a><a id="Run-the-segmentation-algorithm-1"></a><a class="docs-heading-anchor-permalink" href="#Run-the-segmentation-algorithm" title="Permalink"></a></h2><p>The segmentation algorithm is an object with parameters as follows:</p><pre><code class="language-julia hljs">segmentation_algorithm = LopezAcosta2019.Segment()</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">IceFloeTracker.LopezAcosta2019.Segment(Bool[0 0 … 0 0; 0 0 … 0 0; … ; 0 0 … 0 0; 0 0 … 0 0])</code></pre><p>If we wanted to modify the options, we could include those in the call above.  See the documentation for <code>LopezAcosta2019.Segment</code> for details. The default parameters are as follows:</p><pre><code class="language-julia hljs">dump(segmentation_algorithm)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">IceFloeTracker.LopezAcosta2019.Segment
  landmask_structuring_element: Array{Bool}((99, 99)) Bool[0 0 … 0 0; 0 0 … 0 0; … ; 0 0 … 0 0; 0 0 … 0 0]</code></pre><p>Run the algorithm as follows:</p><pre><code class="language-julia hljs">segments = segmentation_algorithm(truecolor, falsecolor, landmask)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Segmented Image with:
  labels map: 400×400 Matrix{Int64}
  number of labels: 59</code></pre><p>To show the results with each segment marked using its mean color:</p><pre><code class="language-julia hljs">map(i -&gt; segment_mean(segments, i), labels_map(segments))</code></pre><img src="14be3c6e.png" alt="Example block output"/><p>We can do the same with the falsecolor image:</p><pre><code class="language-julia hljs"># Get the labels_map
segments_falsecolor = SegmentedImage(falsecolor, labels_map(segments))
map(i -&gt; segment_mean(segments_falsecolor, i), labels_map(segments_falsecolor))</code></pre><img src="5ac392d0.png" alt="Example block output"/><p>Let&#39;s compare the segmented output to the manually validated labels:</p><pre><code class="language-julia hljs">man_labels = case.validated_binary_floes
outlines = man_labels .- erode(man_labels)
seg_vs = map(i -&gt; segment_mean(segments, i), labels_map(segments))
mosaicview(truecolor, seg_vs .* (1 .- Float64.(outlines)), nrow=1)</code></pre><img src="835f7032.png" alt="Example block output"/><h2 id="Run-the-segmentation-algorithm-with-tiling"><a class="docs-heading-anchor" href="#Run-the-segmentation-algorithm-with-tiling">Run the segmentation algorithm with tiling</a><a id="Run-the-segmentation-algorithm-with-tiling-1"></a><a class="docs-heading-anchor-permalink" href="#Run-the-segmentation-algorithm-with-tiling" title="Permalink"></a></h2><p>The &quot;tiling&quot; version of the algorithm is an object:</p><pre><code class="language-julia hljs">segmentation_algorithm_with_tiling = LopezAcosta2019Tiling.Segment()</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">IceFloeTracker.LopezAcosta2019Tiling.Segment((rblocks = 2, cblocks = 2), (prelim_threshold = 0.43137254901960786, band_7_threshold = 0.7843137254901961, band_2_threshold = 0.7450980392156863, ratio_lower = 0.0, ratio_offset = 0.0, ratio_upper = 0.75), (white_threshold = 25.5, entropy_threshold = 4, white_fraction_threshold = 0.4), (gamma = 1.5, gamma_factor = 1.3, gamma_threshold = 220), (se_disk1 = Bool[0 1 0; 1 1 1; 0 1 0], se_disk2 = Bool[0 0 … 0 0; 0 1 … 1 0; … ; 0 1 … 1 0; 0 0 … 0 0], se_disk4 = Bool[0 0 … 0 0; 0 1 … 1 0; … ; 0 1 … 1 0; 0 0 … 0 0]), (radius = 10, amount = 2.0, factor = 255.0), (band_7_threshold = 0.0196078431372549, band_2_threshold = 0.9019607843137255, band_1_threshold = 0.9411764705882353, band_7_threshold_relaxed = 0.0392156862745098, band_1_threshold_relaxed = 0.7450980392156863, possible_ice_threshold = 0.29411764705882354, k = 3), (radius = 10, amount = 2, factor = 0.5), 0.1)</code></pre><p>It has more configurable parameters.  For details, see the documentation of <code>LopezAcosta2019Tiling.Segment</code>. The default parameters are as follows:</p><pre><code class="language-julia hljs">dump(segmentation_algorithm_with_tiling)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">IceFloeTracker.LopezAcosta2019Tiling.Segment
  tile_settings: @NamedTuple{rblocks::Int64, cblocks::Int64}
    rblocks: Int64 2
    cblocks: Int64 2
  cloud_mask_thresholds: @NamedTuple{prelim_threshold::Float64, band_7_threshold::Float64, band_2_threshold::Float64, ratio_lower::Float64, ratio_offset::Float64, ratio_upper::Float64}
    prelim_threshold: Float64 0.43137254901960786
    band_7_threshold: Float64 0.7843137254901961
    band_2_threshold: Float64 0.7450980392156863
    ratio_lower: Float64 0.0
    ratio_offset: Float64 0.0
    ratio_upper: Float64 0.75
  adapthisteq_params: @NamedTuple{white_threshold::Float64, entropy_threshold::Int64, white_fraction_threshold::Float64}
    white_threshold: Float64 25.5
    entropy_threshold: Int64 4
    white_fraction_threshold: Float64 0.4
  adjust_gamma_params: @NamedTuple{gamma::Float64, gamma_factor::Float64, gamma_threshold::Int64}
    gamma: Float64 1.5
    gamma_factor: Float64 1.3
    gamma_threshold: Int64 220
  structuring_elements: @NamedTuple{se_disk1::Matrix{Bool}, se_disk2::Matrix{Bool}, se_disk4::Matrix{Bool}}
    se_disk1: Array{Bool}((3, 3)) Bool[0 1 0; 1 1 1; 0 1 0]
    se_disk2: Array{Bool}((5, 5)) Bool[0 0 … 0 0; 0 1 … 1 0; … ; 0 1 … 1 0; 0 0 … 0 0]
    se_disk4: Array{Bool}((7, 7)) Bool[0 0 … 0 0; 0 1 … 1 0; … ; 0 1 … 1 0; 0 0 … 0 0]
  unsharp_mask_params: @NamedTuple{radius::Int64, amount::Float64, factor::Float64}
    radius: Int64 10
    amount: Float64 2.0
    factor: Float64 255.0
  ice_masks_params: @NamedTuple{band_7_threshold::Float64, band_2_threshold::Float64, band_1_threshold::Float64, band_7_threshold_relaxed::Float64, band_1_threshold_relaxed::Float64, possible_ice_threshold::Float64, k::Int64}
    band_7_threshold: Float64 0.0196078431372549
    band_2_threshold: Float64 0.9019607843137255
    band_1_threshold: Float64 0.9411764705882353
    band_7_threshold_relaxed: Float64 0.0392156862745098
    band_1_threshold_relaxed: Float64 0.7450980392156863
    possible_ice_threshold: Float64 0.29411764705882354
    k: Int64 3
  prelim_icemask_params: @NamedTuple{radius::Int64, amount::Int64, factor::Float64}
    radius: Int64 10
    amount: Int64 2
    factor: Float64 0.5
  brighten_factor: Float64 0.1</code></pre><pre><code class="language-julia hljs">segments = segmentation_algorithm_with_tiling(truecolor, falsecolor, landmask)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Segmented Image with:
  labels map: 400×400 Matrix{Int64}
  number of labels: 348</code></pre><p>To show the results with each segment marked using its mean color:</p><pre><code class="language-julia hljs">map(i -&gt; segment_mean(segments, i), labels_map(segments))</code></pre><img src="ae310e3b.png" alt="Example block output"/><p>With the falsecolor image:</p><pre><code class="language-julia hljs"># Get the labels_map
segments_falsecolor = SegmentedImage(falsecolor, labels_map(segments))
map(i -&gt; segment_mean(segments_falsecolor, i), labels_map(segments_falsecolor))</code></pre><img src="f3ae3f6c.png" alt="Example block output"/><p>Let&#39;s compare the segmented output to the manually validated labels:</p><pre><code class="language-julia hljs">man_labels = case.validated_binary_floes
outlines = man_labels .- erode(man_labels)
seg_vs = map(i -&gt; segment_mean(segments, i), labels_map(segments))
mosaicview(truecolor, seg_vs .* (1 .- Float64.(outlines)), nrow=1)</code></pre><img src="4a9600c0.png" alt="Example block output"/></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../tracking/">« Tracking</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.15.0 on <span class="colophon-date" title="Wednesday 5 November 2025 18:04">Wednesday 5 November 2025</span>. Using Julia version 1.11.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
